expose:
  tls:
    certSource: none
  ingress:
    hosts:
      core: harbor.mjwood.org
    className: external
    annotations:
      external-dns.alpha.kubernetes.io/target: external.mjwood.org
      # note different ingress controllers may require a different ssl-redirect annotation
      # for Envoy, use ingress.kubernetes.io/force-ssl-redirect: "true" and remove the nginx lines below
      ingress.kubernetes.io/ssl-redirect: "true"
      ingress.kubernetes.io/proxy-body-size: "0"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
      nginx.ingress.kubernetes.io/proxy-body-size: "0"
    # ingress-specific labels
    labels: {}
externalURL: https://harbor.mjwood.org
updateStrategy:
  type: Recreate
# The persistence is enabled by default and a default StorageClass
# is needed in the k8s cluster to provision volumes dynamically.
# Specify another StorageClass in the "storageClass" or set "existingClaim"
# if you already have existing persistent volumes to use
#
# For storing images and charts, you can also use "azure", "gcs", "s3",
# "swift" or "oss". Set it in the "imageChartStorage" section
persistence:
  enabled: true
  persistentVolumeClaim:
    registry:
      storageClass: nas-iscsi
      size: 250Gi
    jobservice:
      jobLog:
        storageClass: nas-flash-iscsi
        size: 50Gi
    # If external database is used, the following settings for database will
    # be ignored
    database:
      storageClass: nas-flash-iscsi
      size: 10Gi
    # If external Redis is used, the following settings for Redis will
    # be ignored
    redis:
      storageClass: nas-flash-iscsi
      size: 5Gi
    trivy:
      storageClass: nas-iscsi
      size: 10Gi
  imageChartStorage:
    disableredirect: false
    type: filesystem
    filesystem:
      rootdirectory: /storage
harborAdminPassword: 1fab28a73d99bf0e34aa7da7f93a9b99da82e4118a780f51b09349130f42a55b
# The secret key used for encryption. Must be a string of 16 chars.
secretKey: ENC[AES256_GCM,data:zJN7sDGfIQsZseEcCUleGjBLcQjqecOGu9GRtIR+do8=,iv:PMi/6I9B9MaEOof7/3GnIqd5dXBwpRDaWmZz0jk1b20=,tag:WIIofE3NUsVWcq/22ZcNqg==,type:str]
registry:
  credentials:
    username: harbor
    password: ENC[AES256_GCM,data:uMAzn3r/pDK+Bs3VsCWJ2Nnc5QHhrbnjooue+9r7fUgydEG/RtWI62yUs4UgFHLvi7B8vvHPiSzaw8KrmVqLLg==,iv:ofEZyK+q8X8aPjsFI+V69U1VeG6TNjOP+XGqbcX1Abg=,tag:MNCFpV3i4wmW8TbHG2eacA==,type:str]
database:
  password: ENC[AES256_GCM,data:ooz0oDWiL0nCW+B67llCG4OkaENVqpJ1fh6BZ55hI2zolsNupeu9ATTqA+39H+/pmchqGrv+JeNaKhBrtlhW+w==,iv:YYC/amDPFMHuBFlTTlFhq8qSxqlRfDf9sPnE31ArIBc=,tag:muZb2vLWNxQqxoUXgiWnhw==,type:str]
sops:
  age:
    - recipient: age1m0lm4afkysxufghhpez3p0wjzchms5gpadc085p3ukqh75hyvanst3lrvr
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB2ZEtvNFhKWlB0dm5YTHAw
        dVR6S2tZUXphTHRENEwxb0gzTzhWSnA4R0RNCkRpTmNqZWwyTHVVV1JneHZ4QmFM
        cGZHK09FSlhHbzBqeWxFNjk1OGRuRlUKLS0tIFJXanJUVnVUeW4yaGVkOFZyV3RE
        Y1NmSnBKc0VuK3pnb2dUMlIwTUVGdDQK7A2Cbkh15wSvam/f3N74nQm0Uhawtx0Z
        aEC0tPrBnCUNCv2DWOBuxgcWRSpIz9i7lmnpHCmjw61cPwIXasxMMA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-12-30T19:59:22Z"
  mac: ENC[AES256_GCM,data:PbskM5qIN7AXqCzkTRQHhggz1o1sURJ2as01eo7e/xV41iegUAj7xaTszJM+iaIWQ9U0OY9npaS1wxkvQ4P+B+wgN44BUNZ4OBi05PVuToi1+iXHPQ3hPyxOCVfUTgXxH79Hja5e5557CZG+WLVEsg1YI12rw11VWoTusu4AJpM=,iv:XKf1xbODZCMUGl2d+zLwRP90O3k9Z/eZK0XMfld721I=,tag:DGIw+Fg6rECXynGCe5sq3A==,type:str]
  encrypted_regex: ^(data|stringData|apiKey|rootPassword|secretKey|adminPassword|basicAuthPassword|password|secret_key|secret|WOODPECKER_FORGEJO_SECRET|token)$
  mac_only_encrypted: true
  version: 3.11.0
