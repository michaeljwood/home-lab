replicaCount: 1
image:
  registry: harbor.mjwood.org
  repository: forgejo/forgejo/runner
  pullPolicy: Always
runner:
  config:
    # -- create a secret by run: forgejo-runner register --no-interactive --token {TOKEN} --name runner --instance https://next.forgejo.org
    create: true
    instance: https://forge.mjwood.org
    name: kube-runner
    token: ENC[AES256_GCM,data:qk+XtvZFrCsbh5ASMinXNPPYAFGfpY6HLU9ytGXSxxxRexgvh45ONA==,iv:+jrk5Ix0EkSWW5vANX0Weu016b6OOypioXcn/4Td+94=,tag:T3t4fuvxHOYIxOT5A2SIzw==,type:str]
    # based on https://code.forgejo.org/forgejo/runner/commit/1139bb7d12ff7889694b24731707e153678ab960
    file:
      log:
        # -- The level of logging, can be trace, debug, info, warn, error, fatal
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        level: info
        # -- The level of logging for jobs, can be trace, debug, info, earn, error, fatal
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        job_level: info
      runner:
        # -- Extra environment variables to run jobs.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        envs:
          A_TEST_ENV_NAME_1: a_test_env_value_1
          A_TEST_ENV_NAME_2: a_test_env_value_2
        fetch_timeout: 5s
        fetch_interval: 2s
        # -- The labels of a runner are used to determine which jobs the runner can run, and how to run them.
        # Like: ["macos-arm64:host", "ubuntu-latest:docker://node:16-bullseye", "ubuntu-22.04:docker://node:16-bullseye"]
        # If it's empty when registering, it will ask for inputting labels.
        # If it's empty when execute `deamon`, will use labels in `.runner` file.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        labels:
          - docker
          - ubuntu-latest:docker://node:16-bullseye
          - ubuntu-22.04:docker://node:16-bullseye
      cache:
        # -- Enable cache server to use actions/cache.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        enabled: false
        # -- The directory to store the cache data.
        # If it's empty, the cache data will be stored in $HOME/.cache/actcache.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        dir: ""
        # -- The host of the cache server.
        # It's not for the address to listen, but the address to connect from job containers.
        # So 0.0.0.0 is a bad choice, leave it empty to detect automatically.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        host: ""
        # -- The port of the cache server.
        # 0 means to use a random available port.
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        port: 0
        # -- The external cache server URL. Valid only when enable is true.
        # If it's specified, act_runner will use this URL as the ACTIONS_CACHE_URL rather than start a server by itself.
        # The URL should generally end with "/".
        # @section -- Configuration yaml of runner (see: https://code.forgejo.org/forgejo/runner/src/branch/main/internal/pkg/config/config.example.yaml)
        external_server: ""
dind:
  image:
    registry: harbor.mjwood.org
    repository: hub/library/docker
    pullPolicy: Always
    tag: 28.3.3-dind
  # -- We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi
  # @section -- Docker in Docker
  resources: {}
kubectl:
  image:
    registry: harbor.mjwood.org
    repository: hub/bitnami/kubectl
    pullPolicy: Always
    tag: 1.33.4
sops:
  age:
    - recipient: age1m0lm4afkysxufghhpez3p0wjzchms5gpadc085p3ukqh75hyvanst3lrvr
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGZThYcTRZT1k0R3dKd1Fs
        OW9mTmVCQVlaV0pBdWJicEFERDRWYzUrT0NVCnltUXgwMmFEQi9uUC9SWk5oVzRy
        SG83aGtONU40OXNHT3Y3bThRV1dXc0EKLS0tIHhobGR4cFdwNzZZdm1lUThjVjBa
        U1VoZ01veGE1M1EwRmE0N0JjdDRKWkkKjfIFIhZiLieaU+Loap3jBfpi5MrwH8ib
        CQXv8/7OqqavJ/h6Mf06JjB22lyak3be7/gh2QgItWAcg1sJxOmX+A==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-09-12T23:50:01Z"
  mac: ENC[AES256_GCM,data:vKhksMGSbXuWZO61u+/HVjT8CHBxFyXrKqBDF/6/ii/3WOtKXH4S+bP8dPb+TsXEEuFZ6MdaZKTzfu4HrvVCjm/TjnIYj2ZWrPgrq/KgXeuMqyElbKh9pn3idxaM0e+GRkEI/f1ki0pzSuQJ9qmcEEKY7T2tgBlaqBtVJLLZxaM=,iv:o3vDtB9eYMXD4BB04+jBge+rATgTawif8VayBv14c8E=,tag:TobMkWz4iMxx+2GruuNgUQ==,type:str]
  encrypted_regex: ^(data|stringData|apiKey|rootPassword|secretKey|adminPassword|basicAuthPassword|password|secret_key|secret|WOODPECKER_FORGEJO_SECRET|token)$
  mac_only_encrypted: true
  version: 3.10.2
