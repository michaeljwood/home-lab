service:
  ## @param service.ssh.type Kubernetes service type for ssh traffic
  ## @param service.ssh.port Port number for ssh traffic
  ## @param service.ssh.clusterIP ClusterIP setting for ssh autosetup for deployment
  ## @param service.ssh.loadBalancerIP LoadBalancer IP setting
  ## @param service.ssh.nodePort NodePort for ssh service
  ## @param service.ssh.externalTrafficPolicy If `service.ssh.type` is `NodePort` or `LoadBalancer`, set this to `Local` to enable source IP preservation
  ## @param service.ssh.externalIPs External IPs for service
  ## @param service.ssh.ipFamilyPolicy SSH service dual-stack policy
  ## @param service.ssh.ipFamilies SSH service dual-stack family selection,for dual-stack parameters see official kubernetes [dual-stack concept documentation](https://kubernetes.io/docs/concepts/services-networking/dual-stack/).
  ## @param service.ssh.hostPort HostPort for ssh service
  ## @param service.ssh.loadBalancerSourceRanges Source range filter for ssh loadbalancer
  ## @param service.ssh.annotations SSH service annotations
  ## @param service.ssh.labels SSH service additional labels
  ## @param service.ssh.loadBalancerClass Loadbalancer class
  ssh:
    type: LoadBalancer
    port: 22
    #    clusterIP:
    #    loadBalancerIP:
    #    nodePort:
    externalTrafficPolicy: Local
    externalIPs:
      - 10.0.0.88
      #    ipFamilyPolicy:
      #    ipFamilies:
      #    hostPort:
      #    loadBalancerSourceRanges: []
    annotations:
      io.cilium/lb-ipam-ips: 10.0.0.88
#    labels: {}
#    loadBalancerClass:
ingress:
  enabled: true
  className: external
  annotations:
    external-dns.alpha.kubernetes.io/target: external.mjwood.org
  hosts:
    - host: forge.mjwood.org
      paths:
        - path: /
          pathType: Prefix
          port: http
  tls: []
persistence:
  size: 50Gi
  accessModes:
    - ReadWriteOnce
  storageClass: truenas-iscsi
gitea:
  admin:
    username: forgejo-admin
    password: ENC[AES256_GCM,data:+AdVnK+zdw8wWgc8d++fAYImYUhh5iklxBwKLt/t4IPh+gOdqOZKAQTMhjyN2Pa+gw6QdiMylPW25F3EXg7DPw==,iv:oyn3WOSzjjaJ9XYo2tGq5f/YyLK9wESyGFfyjqu942Y=,tag:Zz2jufWmHynw8Ty6hCZf3Q==,type:str]
  oauth:
    - name: authentik
      provider: openidConnect
      key: n0znWG5u7HgP2EUEbW6C9aDT28opL4iUHadTL4FU
      secret: ENC[AES256_GCM,data:Js6V/cPwXynVkhMKO7E3z37aOyQsG+jiu5OoJoympNPzrzcNVS+jiYYEuTbs1GUPpqnE+EWKLy6ce0rfa+G85j/O3Up6/lSw0jJXkoX4YL3asoB5VTBaI7kbmBvMtNQQHKScf76ieJ6wR55VjA7ryRnIF/mE1Q5rfXNpxhbE+9c=,iv:eaTW9ZoZHFYlkYr+2KHCQxkG9nt16GbBwd7q9pb0X48=,tag:vlS3HW6sZA576+v0l4Jc0w==,type:str]
      autoDiscoverUrl: https://auth.mjwood.org/application/o/forgejo/.well-known/openid-configuration
      iconUrl: https://auth.mjwood.org/static/dist/assets/icons/icon.png
      scopes: email profile
  config:
    ## @param gitea.config.APP_NAME Application name, used in the page title
    APP_NAME: 'Forgejo: Beyond coding. We forge.'
    server:
      ROOT_URL: https://forge.mjwood.org
      SSH_DOMAIN: ssh.forge.mjwood.org
  additionalConfiguration:
    - secret:
        secretName: ENC[AES256_GCM,data:hS/CqtOdW1uha4pFy5cExKM=,iv:cI9UzPJAWnPjPmrHFLIn55BfMBHj4E4PBMtl5U9v+L0=,tag:WVeY+KWDiH1v+wmJ+fYKYw==,type:str]
redis-cluster:
  enabled: false
redis:
  enabled: true
  global:
    redis:
      password: ENC[AES256_GCM,data:4V2Auj9ZT08egoenY5vDX9C3cyMmWZDu3oj0Yq46f7gOum5ltmkffC2v0tGwTB15F3TpxcjOUhQk/hSkUBMU2Q==,iv:VyEHuCJZSkJaL8ZpSfDDbbjFDERFEmpcVgwHxUniACU=,tag:TsL3/hAIZ6JBBSNDMIFvSA==,type:str]
postgresql-ha:
  enabled: false
postgresql:
  enabled: false
  global:
    postgresql:
      auth:
        password: ENC[AES256_GCM,data:liD/W0bww6Bqs5PpjIhesljRJ/92mVXWoEDreeqPHI7Y/muC9fyyWTAX5Upl25CxSUWBWStpNHpphD9gSIrxhQ==,iv:tBXRWB/y0d5Tc3HRA0FPUSBYjHFAHtA2lVClSJV017g=,tag:jN5P0WEjs/S5nlAXR9REcw==,type:str]
        database: gitea
        username: gitea
  primary:
    persistence:
      size: 10Gi
sops:
  age:
    - recipient: age1m0lm4afkysxufghhpez3p0wjzchms5gpadc085p3ukqh75hyvanst3lrvr
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBck80Q0JIREo5WE54bDFy
        WkpjOFVkeFNOV1VYS21rRklWOGRXL0ExekRjCnpHYSthWUZxTGxockpRTlgyM3pn
        c00wbzkrTXYxSmsrZHFKK0Y4MzRhVlEKLS0tIFFCZU1tYitDcDJUcGkwMTV3czZn
        ZS9qZmhWQzlKQ1BzcDZJRzYvUWNoczQK/prtA+BYk96YA0/3Th+fR0YyzLUEPQrM
        4WzPc/tro1BnQLIp7ITIAa/eCTjJkVTswjvrylhlkIzhDrfWknAs3g==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-31T00:17:07Z"
  mac: ENC[AES256_GCM,data:Xg82FQPFYe8dkQtjoUwZK4/+c+oXvI13Z2OT/q1iue0OnMnHYmcYaKA2A1B0SHIXYIIg8pDzBi1LCWCIZo8z9W3Lt/KQ9be0F0nCpIff3ZCUuGkOUj0glmjqC8yGpS9LMtfobUZa74w+Y5JZ4X9FKtDuzQy++Z2LLfmtNOjwleI=,iv:gcmPz3i9H7lfB9Fy943WJ8fTqHI9rjnbEcww6kfz8iI=,tag:mXL+BGoPZ9q32FWYkAmkRg==,type:str]
  encrypted_regex: ^(data|stringData|apiKey|rootPassword|secretKey|adminPassword|basicAuthPassword|password|secret_key|secret)$
  mac_only_encrypted: true
  version: 3.10.2
