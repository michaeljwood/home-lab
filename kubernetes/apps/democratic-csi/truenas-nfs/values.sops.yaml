driver:
  config:
    driver: freenas-api-nfs
    httpConnection:
      protocol: https
      apiKey: ENC[AES256_GCM,data:zdXjUIR+4cpjZo6huvgfMJTcDGt3G5O8qMTL90taPEB0kLujrVitz59Is2zje1iVe4IDEo9w1jbD8sCyR2qFeO/Q,iv:iD4yw6hnh7om/FRaty4A/G7RtSCPI6YxU5eQozZ/92s=,tag:R0OuQI2ns9IjzMiMJyntnQ==,type:str]
      host: 10.0.0.9
      port: 443
      allowInsecure: true
    zfs:
      datasetParentName: nvme/talos/nfs/volumes
      detachedSnapshotsDatasetParentName: nvme/talos/nfs/snapshots
      datasetEnableQuotas: true
      datasetEnableReservation: false
      datasetPermissionsMode: "0777"
      datasetPermissionsUser: 0
      datasetPermissionsGroup: 0
    nfs:
      shareCommentTemplate: '{{ parameters.[csi.storage.k8s.io/pvc/namespace] }}-{{ parameters.[csi.storage.k8s.io/pvc/name] }}'
      shareHost: 10.0.0.9
      shareAlldirs: false
      shareAllowedHosts: []
      shareAllowedNetworks: []
      shareMaprootUser: root
      shareMaprootGroup: root
      shareMapallUser: ""
      shareMapallGroup: ""
csiDriver:
  # should be globally unique for a given cluster
  name: org.democratic-csi.freenas-api-nfs
storageClasses:
  - name: truenas-nfs
    defaultClass: false
    reclaimPolicy: Delete
    volumeBindingMode: Immediate
    allowVolumeExpansion: true
    parameters:
      fsType: nfs
    mountOptions:
      - noatime
      - nfsvers=4
volumeSnapshotClasses:
  - name: truenas
    parameters:
      detachedSnapshots: "true"
sops:
  age:
    - recipient: age1m0lm4afkysxufghhpez3p0wjzchms5gpadc085p3ukqh75hyvanst3lrvr
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMeVpFSUZjejY4WU9WSVU4
        YTBqVWdsZHl2QmdtbGljTE5iMFJKNUJVbG1RCmdEL3FGc3BNWHVJSm1aYU9UZENW
        QTJ6dnByYXdKenZRZlJlZzlNelNWbzAKLS0tIEJidGhQSjRUeFYwR2s3WE1DQXd3
        L1poMUVML092OTQyQ3VZOVJZbjVnamcKvl9xcWUhEgSMR5xZOCy+9bWo6SYBx6Qr
        8BgsgEKVSJJ+G3M0b9DlkX//n/EW/e7mcnzXlSC6O+e042KuekmoxQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-05-14T13:56:35Z"
  mac: ENC[AES256_GCM,data:8D28Yc2KhWOdjMlWGxIOuHGYq2oXo/9f+2EPHssEMiKOXQXmMsuj0wjlzk5d+SHpbs2hdRjaNT79UVT+PiNtGonBDvmRj4NauhcmKoX3KC0BoJEUcTu6UN1hqG/dbvUPDQqL+A4hDMyz9yD8rWU/nIpTSACB4SB7B3dSQtZPVzE=,iv:TxmB227ooZunWhY726EsYmNaJs+wCFXKZyfQpqapMEc=,tag:QriS95DgYFBqnIV44vqv7Q==,type:str]
  encrypted_regex: ^(data|stringData|apiKey|rootPassword|secretKey|adminPassword|basicAuthPassword|password|secret_key)$
  mac_only_encrypted: true
  version: 3.10.2
